<section data-ng-controller="IndexController">
	<div class="row">
		<div id="main-container" class="col-md-offset-2 col-md-8">
			<div class="row">
				<div id="title-tab" class="">
					<h1><span style="font-weight:normal">Better</span>Town</h1>
				</div>
			</div> <!-- row -->
			<div class="row">
				<div id="body-container" class="col-md-12">
					<div id="instructions-container" class="row" data-ng-hide="cityMode">
						<div class="col-md-offset-3 col-md-6 st-centered">
							<h3 class="st-white">Enter Your Town!</h3>
						</div>
					</div>
					<!-- BEGIN SEARCH AREA -->
					<div class="row">
						<div id="search-container" class="col-md-offset-3 col-md-6">
							<div class="row">
								<div class="col-md-12">
									<script type="text/javascript">
										var inputCity = function(cityName){
											document.getElementById('town-search-field').value = cityName;
										};	
									</script>
							        <input id="town-search-field" auto-complete ui-items="names" ng-model="query" class="form-control input-lg" placeholder="Enter A Town" ng-change="autocompleteCity()" ng-blur="hideAutocompletePopover()">
							        <div id="autocomplete-container" data-ng-show="showAutocomplete">
							        	<p class="st-no-margin" style="color:#999"><small>&nbsp;Choose One...</small></p>
							        	<ul class="list-unstyled">
											<li data-ng-repeat="city in cities" ng-click="selectCity(city)">
												<span class="city-title">{{city.name}}</span>, <span class="city-state">{{city.admin1_code}}</span>
											</li>
										</ul>
							        </div>
								</div>
							</div> <!-- row -->
						</div>
					</div> <!-- row -->
					<!-- BEGIN MAP AREA -->
					<div class="row" data-ng-show="cityMode">
						<div id="map-container" class="col-md-12">
							<div id='map' class='dark'></div>
							  <script>
							  var map = L.mapbox.map('map', 'austen.g9ol6a3h')
							      .addLayer(L.mapbox.tileLayer('austen.g9ol6a3h', {
								        detectRetina: true
								    }));
							  </script>
						</div>
					</div> <!-- row -->
					<!-- BEGIN OPTIONS AREA -->
					<div class="row" data-ng-show="cityMode">
						<div id="options-container" class="col-md-offset-1 col-md-10">
							<div class="row">
								<div class="col-md-6">
									<h4>{{issues.length}} Issues in {{city.name}}, {{city.admin1_code}}</h4>
								</div>
								<div class="col-md-6">
									<button class="pull-right btn btn-primary st-capitalize" ng-click="newIssue()">Report Issue in {{city.name}}</button>
								</div>
							</div>
						</div>
					</div> <!-- row -->
					<!-- BEGIN ISSUE AREA -->
					<div class="row" data-ng-show="cityMode">
						<div id="issue-container" class="col-md-offset-1 col-md-10">
							<ul class="list-unstyled">
								<li data-ng-repeat="issue in issues" ng-click="">
									<span class="issue-title">{{issue.title}}</span>
								</li>
							</ul>
						</div>
					</div> <!-- row -->
				</div>
			</div> <!-- row -->
		</div><!-- #main-container -->
	</div> <!-- row -->

	<!-- Modal -->
	<div id="issueModal" class="modal fade">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	        <h4 class="modal-title">Report An Issue</h4>
	      </div>
	      <div class="modal-body">
	        <form class="form-horizontal" data-ng-submit="createIssue()">
				<div class="form-group">
					<label class="control-label" for="title">Title</label>
					<input type="text" class="form-control" data-ng-model="title" id="title" placeholder="Title">
				</div>
				<div class="form-group">
					<label class="control-label" for="content">Description</label>
					<textarea data-ng-model="description" class="form-control" id="content" cols="30" rows="10" placeholder="Content"></textarea>
				</div>
				<div class="form-group">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					<input type="submit" class="btn btn-primary" value="Report Issue">
				</div>
			</form>
	      </div>
	    </div><!-- /.modal-content -->
	  </div><!-- /.modal-dialog -->
	</div><!-- /.modal -->

</section>